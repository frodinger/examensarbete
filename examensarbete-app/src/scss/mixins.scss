// Centrala mixins för projektet
// Samlar alla återanvändbara mixins på ett ställe

// Importera variabler
@use 'variables';

// Flexbox
@mixin flex($direction: row, $justify: flex-start, $align: stretch, $wrap: nowrap) {
  display: flex;
  flex-direction: $direction;
  justify-content: $justify;
  align-items: $align;
  flex-wrap: $wrap;
}

// Centrera element (absolut positionering)
@mixin center-absolute {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

// Responsiva media queries
@mixin media-xs {
  @media (min-width: variables.$breakpoint-xs) {
    @content;
  }
}

@mixin media-sm {
  @media (min-width: variables.$breakpoint-sm) {
    @content;
  }
}

@mixin media-md {
  @media (min-width: variables.$breakpoint-md) {
    @content;
  }
}

@mixin media-lg {
  @media (min-width: variables.$breakpoint-lg) {
    @content;
  }
}

@mixin media-xl {
  @media (min-width: variables.$breakpoint-xl) {
    @content;
  }
}

@mixin media-2xl {
  @media (min-width: variables.$breakpoint-2xl) {
    @content;
  }
}

// Custom media query
@mixin media-custom($min, $max: null) {
  @if $max {
    @media (min-width: $min) and (max-width: $max) {
      @content;
    }
  } @else {
    @media (min-width: $min) {
      @content;
    }
  }
}

// Grid layout
@mixin grid($columns: 1, $gap: variables.$spacing-4) {
  display: grid;
  grid-template-columns: repeat($columns, 1fr);
  gap: $gap;
}

// Begränsa text och trunkera med ...
@mixin truncate($lines: 1) {
  @if $lines == 1 {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  } @else {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

// Skapa skuggor med variabel intensitet
@mixin shadow($level: 'md') {
  @if $level == 'sm' {
    box-shadow: var(--shadow-sm);
  } @else if $level == 'md' {
    box-shadow: var(--shadow-md);
  } @else if $level == 'lg' {
    box-shadow: var(--shadow-lg);
  } @else if $level == 'xl' {
    box-shadow: var(--shadow-xl);
  } @else {
    box-shadow: var(--shadow);
  }
}

// Lägg till övergångseffekter
@mixin transition($properties: all, $duration: variables.$transition-normal, $timing: variables.$transition-ease) {
  transition-property: $properties;
  transition-duration: $duration;
  transition-timing-function: $timing;
}

// Knappstil
@mixin button-style($bg-color, $text-color, $hover-bg-color: null) {
  background-color: $bg-color;
  color: $text-color;
  border-radius: variables.$border-radius;
  padding: variables.$spacing-2 variables.$spacing-4;
  font-weight: 500;
  @include transition;
  
  @if $hover-bg-color {
    &:hover {
      background-color: $hover-bg-color;
    }
  } @else {
    &:hover {
      filter: brightness(90%);
    }
  }
}

// Glasmorfism effekt
@mixin glass-effect($opacity: 0.7, $blur: 10px) {
  background: rgba(255, 255, 255, $opacity);
  backdrop-filter: blur($blur);
  -webkit-backdrop-filter: blur($blur);
}

// Tillgänglighet - göm visuellt men behåll för skärmläsare
@mixin visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// Fokusringar för tillgänglighet
@mixin focus-outline($color: var(--primary-color), $offset: 3px) {
  &:focus-visible {
    outline: 3px solid $color;
    outline-offset: $offset;
    box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.3);
  }
}

// Behållare med maxbredd och centrering
@mixin container($max-width: variables.$container-max-width-lg) {
  width: 100%;
  max-width: $max-width;
  margin-left: auto;
  margin-right: auto;
  padding-left: variables.$spacing-4;
  padding-right: variables.$spacing-4;
  
  @include media-sm {
    padding-left: variables.$spacing-6;
    padding-right: variables.$spacing-6;
  }
}

// Hover-effekt med skalning
@mixin hover-scale($scale: 1.05, $duration: variables.$transition-fast) {
  @include transition(transform, $duration);
  
  &:hover {
    transform: scale($scale);
  }
} 